
<!--
<div class="video-container">
	{% if page.autoplay == true %}
	<iframe width="560" height="315" src="https://www.youtube.com/embed/{{include.youtube_id}}?rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe>
	{% else %}
	<iframe width="560" height="315" src="https://www.youtube.com/embed/{{include.youtube_id}}" frameborder="0" allowfullscreen></iframe>
	{% endif %}
</div>
<p class="link-under-youtube">(观看优酷的视频请<a href="{{ include.youku_link }}" target="_blank">点击这里)</a></p>
-->

{% if {{page.youtube_id}} %}

<div class="video-container">
	<iframe
			id="myVideo"
			class="myvideo"
			width="560" height="315"
			src="https://www.youtube.com/embed/{{page.youtube_id}}"
			frameborder="0"
			allowfullscreen>
		[默认会播放 Youtube 视频, 如需切换优酷,请点下面绿色按钮. ^^]
	</iframe>
</div>

<div id="switch-video-div">
	<button data-toggle="collapse" data-target="#youku-info" onclick="myFunction()" type="button" id="switch-video">切换成 优酷 视频</button>
	<div class="collapse" id="youku-info">
		<p style="display: inline; font-size: 0.8em; cursor: help;"
		    title="优酷只支持 http 协议, 而本网站是 https, 所以会冲突">
			(Chrome无法播放优酷? 网址框输入"chrome://settings/content/", 勾选允许 Flash Player. 实在不行? 请
		<a href="http://v.youku.com/v_show/id_{{page.youku_id}}==.html"
		     target="_blank" >点击这里</a>)</p>
	</div>
</div>

{% else %}
	<br><br>
	<h1 style="color:#F56100;">此节内容视频还在录制中, 敬请期待~</h1>
	<br><br>
{% endif %}




<script type="text/javascript">
var vid = document.getElementById("myVideo");
var statusElement = document.getElementById("switch-video");
var currentlyPlaying = 1;
var currentlPlayingTime

var src1 = "https://www.youtube.com/embed/{{page.youtube_id}}";

var src2 = "https://players.youku.com/player.php/sid/{{page.youku_id}}==/v.swf";

function myFunction() {
    currentlPlayingTime = vid.currentTime;
    if (currentlyPlaying === 1) {
        vid.src = src2;
        currentlyPlaying = 2;
        statusElement.innerText = '切换成 Youtube 视频';
    } else {
        vid.src = src1;
        currentlyPlaying = 1;
        statusElement.innerText = '切换成 优酷 视频';
    }

    vid.addEventListener('loadedmetadata', function () {
        vid.currentTime = currentlPlayingTime;
    }, false);
}
</script>

<!--var src2 = "http://player.youku.com/embed/{{page.youku_id}}==";-->
